#!/bin/zsh

# Symlinking files
# =========================================================
echo '[Dotfiles] Symlinking files...'

if [[ ! -d ~/.vim ]]; then
  mkdir ~/.vim
fi

ln -f -s $PWD/.aliases ~/.aliases
ln -f -s $PWD/.profile ~/.profile
ln -f -s $PWD/.zshrc ~/.zshrc
ln -f -s $PWD/.vimrc ~/.vimrc
ln -f -s $PWD/.vim/basics.vim ~/.vim/basics.vim
ln -f -s $PWD/.vim/colors.vim ~/.vim/colors.vim
ln -f -s $PWD/.vim/plugins.vim ~/.vim/plugins.vim
ln -f -s $PWD/.vim/keybindings.vim ~/.vim/keybindings.vim
ln -f -s $PWD/.config/terminator/config ~/.config/terminator/config

# Install Spaceship Theme
# =========================================================
echo '[Dotfiles] Install Spaceship Theme...'
if [[ ! -d "$ZSH_CUSTOM/themes/spaceship-prompt" ]]; then
  git clone https://github.com/denysdovhan/spaceship-prompt.git "$ZSH_CUSTOM/themes/spaceship-prompt"
  ln -s "$ZSH_CUSTOM/themes/spaceship-prompt/spaceship.zsh-theme" "$ZSH_CUSTOM/themes/spaceship.zsh-theme"
fi

# Install zsh-autosuggestions
# =========================================================
echo '[Dotfiles] Install zsh-autosuggestions...'
if [[ ! -d "${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions" ]]; then
  git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
fi

# Disable screen lock and screen blackout
# =========================================================
gsettings set org.gnome.desktop.session idle-delay 0
gsettings set org.gnome.desktop.screensaver lock-enabled false

# "Restart to Windows" shortcut
# =========================================================
echo '[Dotfiles] Creating "Restart to Windows" shortcuts...'
sudo cp .local/share/applications/windows.png \
  .local/share/applications/windows.sh \
  .local/share/applications/windows.desktop \
  /usr/share/applications/

sudo chmod 644 /usr/share/applications/windows.{sh,desktop,png}
sudo chmod -x /usr/share/applications/windows.desktop
sudo chmod +x /usr/share/applications/windows.sh

# Installation finished sucessfully.
# =========================================================
echo -e '[Dotfiles] Installation finished sucessfully.'
source ~/.zshrc
